<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /**
         * @Description:
         * @author Li,Weixin
         * @date 2020/11/10
        */
        /**
         * apply,call,bind都可以改变this的指向
         * 不同的地方:参数传递的方式是不一样的
         * apply的使用语法
         * 函数名字.apply(对象,[参数1,参数2,...]);
         * 方法名字.apply(对象,[参数1,参数2,...]);
         * call的使用语法
         * 函数名字.call(对象,参数1,参数2,...);
         * 方法名字.call(对象,参数1,参数2,...);
         * bind的使用语法
         * 用来复制一份，在复制中改变了this的指向
         *  apply和call是调用的时候改变this指向
         *  bind方法,是复制一份的时候,改变了this的指向
         * 函数名字.bind(对象,参数1,参数2,...);---->返回值是复制之后的这个函数
         * 方法名字.bind(对象,参数1,参数2,...);---->返回值是复制之后的这个方法
         */
        // function f1(x,y){
        //     console.log("结果是"+(x+y)+this);
        //     return "10000";
        // }
        // // f2=f1(10,20);
        // // console.log(f2);
        //
        // var result1=f1.apply(null,[10,20]);
        // var result2=f1.call(null,10,20);
        // console.log(result1);
        // console.log(result2);
        //
        // function Person(age,sex) {
        //     this.age=age;
        //     this.sex=sex;
        // }
        // Person.prototype.sayHi=function () {
        //     console.log("您好啊："+this.sex);
        //     return 1000;
        // }
        // var per=new Person(10,"男");
        // // per.sayHi();
        //
        // function Student(name,sex) {
        //     this.name=name;
        //     this.sex=sex;
        // }
        // var stu=new Student("小明","男");
        // // var r1=per.sayHi.apply(stu,[10,20]);
        // var r2=per.sayHi.call(stu,10,20);
        //
        // // console.log(r1);
        // console.log(r2);
        //
        // function f1(x,y) {
        //     console.log((x+y)+"===>"+this);
        //     return "这是函数的返回值";
        // }
        // //apply和call的调用
        // var r1=f1.apply(null,[10,20]);
        // console.log(r1);
        // var r2=f1.call(null,10,20);
        // console.log(r2);
        // //改变this的指向
        // var obj={
        //     sex:"男"
        // }
        // var r3=f1.apply(obj,[1,2]);
        // console.log(r3);
        // var r4=f1.call(obj,1,2);
        // console.log(r4);

        //方法改变this的指向
        // function Person(age) {
        //     this.age=age;
        // }
        // Person.prototype.sayHi=function (x,y) {
        //     console.log((x+y)+"===>"+this.age);
        // };
        // function Student(age) {
        //     this.age=age;
        // }
        // var per = new Person(10);
        // var stu = new Student(12);
        // per.sayHi.apply(stu,[10,20]);
        // per.sayHi.call(stu,10,20);
        //只要是想使用别的对象的方法,并且希望这个方法是当前对象的,
        // 那么就可以使用apply或者是call的方法改变this的指向
        //
        // function f1(){
        //     console.log(this+":===>调用了");
        // }
        // //f1是函数，也是对象
        // console.log(f1);
        // f1.apply();
        // f1.call();
        // console.log(f1.__proto__==Function.prototype);
        // console.log(Function.prototype);
        // console.log(Function);
        //
        // function Person() {
        //     this.sayHi=function () {
        //         console.log("您好");
        //     }
        // }
        // Person.prototype.eat=function () {
        //     console.log("吃");
        // }
        // var per=new Person();
        // per.sayHi();
        // per.eat();
        // console.dir(per);

        function f1(x,y) {
            console.log((x+y)+":==>"+this.age);
        }
        // var ff=f1.bind(null);
        // ff(10,20);


        // function Person(age) {
        //     this.age=age;
        // }
        // Person.prototype.eat=function () {
        //     console.log("吃");
        // };
        // var per = new Person(10);

        // var ff=f1.bind(per,10,20);
        // ff();

        function Person(age) {
            this.age=age;
        }
        Person.prototype.play=function () {
            console.log(this+"==>"+this.age);
        };
        function Student(age) {
            this.age=age;
        }
        var per = new Person(10);
        var stu = new Student(20);

        var ff=per.play.bind(stu);
        ff();

        //一个使用bind的案例
        // function ShowRandom() {
        //     //1-10的随机数
        //     this.number=parseInt(Math.random()*10+1);
        // }
        // //添加原型方法
        // ShowRandom.prototype.show1=function () {
        //     //改变了定时器中的this指向：原来是window ==>实例对象
        //     window.setInterval(this.show2.bind(this),1000);
        // };
        // ShowRandom.prototype.show2=function () {
        //     console.log(this.number);
        // };
        //
        // var sr=new ShowRandom();
        // sr.show1();


    </script>


</head>
<body>

</body>
</html>